<!DOCTYPE html>
<meta charset="UTF8">
<html>
<head>
<title>Raymond angry test</title>

<div id="area"></div>
<script src="http://threejs.org/build/three.min.js"></script>
<script src="js/JSARToolKit.js"></script>

</head>
<body>
    <script>
     var scene, camera, renderer, light, earthMesh, earthRotY = 0;

    function initScene(width, height) {

        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
        camera.position.set(0, 0, 400);

        renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(width, height);
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);
    }
    function initLight() {

        light = new THREE.SpotLight(0xffffff);
        light.position.set(400, 100, 1000);
        light.castShadow = true;
        scene.add(light);
    }

    function initEarth() {

        var earthMaterial = new THREE.MeshLambertMaterial({
        map: THREE.ImageUtils.loadTexture("earth.jpg"),
        });

        var earthGeometry = new THREE.SphereGeometry(120, 80, 80);
        earthMesh = new THREE.Mesh(earthGeometry, earthMaterial);
        earthMesh.receiveShadow = true;
        earthMesh.castShadow = true;
        scene.add(earthMesh);
    }

    function update() {
        earthRotY += 0.007;
        earthMesh.rotation.y = earthRotY;
    }

    function render() {
        update();
        renderer.setClearColor(0x000000, 0);
        renderer.render(scene, camera);
        requestAnimationFrame(render);
    }

    initScene(window.innerWidth , window.innerHeight);
    initEarth();
    initLight();
    render();


    //     document.addEventListener('DOMContentLoaded', function(e) {
    //     initScene(window.innerWidth, window.innerHeight);
    //     initEarth();
    //     initLight();
    //     requestAnimationFrame(render);
    // });

</script>
</body>
</html>